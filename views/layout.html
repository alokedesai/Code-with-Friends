
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <title>Code for Friends</title>


        <!-- Bootstrap and local stylesheet -->
         <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
         <link rel="stylesheet" href="/stylesheets/firepad.css" />
                 <link rel="stylesheet" href="/stylesheets/codemirror.css" />

          <link rel="stylesheet" type="text/css" href="http://codemirror.net/addon/display/fullscreen.css">
  <!-- <link rel="stylesheet" href="http://tenbourne.com/css/normalize.min.css">
  <link rel="stylesheet" href="http://tenbourne.com/css/style.min.css?v=1384600727">
  -->


  <script src="https://cdn.firebase.com/v0/firebase.js"></script>
        <!-- codemirror -->
            <script src="/javascripts/codemirror.js"></script>
            <link  rel="stylesheet" href="/javascripts/codemirror/theme/monokai.css"/>

            <script type="text/javascript" src="/javascripts/codemirror/mode/javascript/javascript.js"></script>
        
        <!-- Download from http://www.firepad.io/firepad.zip -->
            
            <script src="/javascripts/firepad.js"></script> 
             <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>  

             <!-- JS REPL files -->
              <script type="text/javascript" src="/javascripts/jquery.jkey.min.js"></script>
    <script type="text/javascript" src="/javascripts/evaluator.js"></script>


        <!-- JQconsole for writing out files -->
        <script type="text/javascript" src="/javascripts/jqconsole.js"></script>

        <script type="text/javascript" src="http://codemirror.net/addon/display/fullscreen.js"></script>



</head>
<body>
  <style type="text/css">
  .firepad{
     display: block;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 9999;
            margin: 0;
            padding: 0;
            border: 0px solid #BBBBBB;
            opacity: 1;
  }
  </style>
<div id="firepad"></div>
    <script>
     var codeMirror = CodeMirror(document.body, {mode: "javascript",
                    autofocus: true,
                    lineNumbers: true,
                    theme: "monokai",
                     fontSize: "9pt",
                    fullScreen: true, 
                    autoMatchParens: true});
     
      var firepadRef = new Firebase("https://fire-base-test.firebaseio.com/'");
      var firepad = Firepad.fromCodeMirror(firepadRef, codeMirror,
          { richTextShortcuts: true, richTextToolbar: false });
    </script>


    <script type="text/javascript">
      var cons = {
        log: function (msg) {
          appendResultStr(msg + "\n");
        }
      };
    var evaluator = new Evaluator(cons)
     $( document ).ready(function() {
      $(".firepad").jkey('ctrl+r', function () {
          console.log(evaluator.evaluate(firepad.getText()))
        });
    });
      
    </script>
    </body>
</html>
